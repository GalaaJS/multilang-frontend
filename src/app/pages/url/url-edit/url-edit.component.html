<h4>Url registration</h4>

<div class="alert alert-danger" *ngIf="error">{{ error }}</div>

<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <div class="form-group row">
    <label for="inputPassword" class="col-sm-2 col-form-label">Url</label>
    <div class="col-sm-9">
      <input
        type="text"
        class="form-control"
        formControlName="url"
        id="url"
        name="url"
        required
        autofocus
        placeholder="Url"
        autocomplete="off"
      />
    </div>
  </div>
  <div class="form-group row">
    <label for="inputPassword" class="col-sm-2 col-form-label">Project</label>
    <div class="col-sm-9">
      <select
        class="form-control"
        title="Projects"
        id="project-select"
        (change)="onProjectChange($event)"
      >
        <option
          *ngFor="let project of projects"
          [value]="project.project_id"
          [selected]="model?.project_id === project?.project_id"
        >
          {{ project.project_name }}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="inputPassword" class="col-sm-2 col-form-label">
      Translations
    </label>
    <div class="col-sm-9">
      <div *ngFor="let model of translations">
        <label>
          <input
            type="checkbox"
            (change)="updateSelection(model.translation_id ?? 0, $event)"
            [checked]="translationSet.has(model.translation_id ?? 0)"
          />
          {{ model.lang_code }} - {{ model.key }} - {{ model.value }}
        </label>
      </div>
    </div>
  </div>

  <button
    class="add"
    mat-stroked-button
    color="basic"
    matTooltip="Back"
    [routerLink]="['/url']"
  >
    <mat-icon>arrow_back</mat-icon> Back
  </button>
  <button
    class="add"
    mat-raised-button
    color="primary"
    matTooltip="Save"
    type="submit"
  >
    <mat-icon>save</mat-icon> Save
  </button>
</form>
